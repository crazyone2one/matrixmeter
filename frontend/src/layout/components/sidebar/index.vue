<script setup lang="ts">
import {MenuOption, NIcon} from "naive-ui";
import {h, onBeforeMount, ref} from "vue";
import {RouteRecordRaw} from "vue-router";
import {useI18n} from "/@/hooks/use-i18n.ts";
import useMenuTree from "/@/hooks/use-menu-tree";
import {useAppStore} from "/@/store";
import {getFirstRouterNameByCurrentRoute} from "/@/utils/permission.ts";
import {renderRouterLink} from "/@/utils/render.ts";
import {listenerRouteChange} from "/@/utils/route-listener";

const {t} = useI18n();
const appStore = useAppStore();
const expandedKeys = ref<string[]>([]);
const openKeys = ref<string[]>([]);
const options = ref<MenuOption[]>([]);
const {menuTree} = useMenuTree();

const findMenuOpenKeys = (target: string) => {
  const result: string[] = [];
  let isFind = false;
  const backtrack = (item: RouteRecordRaw | null, keys: string[]) => {
    if (target.includes(item?.name as string)) {
      result.push(...keys);
      if (result.length >= 2) {
        // 由于目前存在三级子路由，所以至少会匹配到三层才算结束
        isFind = true;
        return;
      }
    }
    if (item?.children?.length) {
      item.children.forEach((el) => {
        backtrack(el, [...keys, el.name as string]);
      });
    }
  };

  menuTree.value?.forEach((el: RouteRecordRaw | null) => {
    if (isFind) return; // 节省性能
    backtrack(el, [el?.name as string]);
  });
  return result;
};

listenerRouteChange((newRoute) => {
  const {requiresAuth, activeMenu, hideInMenu} = newRoute.meta;
  if (requiresAuth !== false && (!hideInMenu || activeMenu)) {
    const menuOpenKeys = findMenuOpenKeys(
        (activeMenu || newRoute.name) as string
    );

    const keySet = new Set([...menuOpenKeys, ...openKeys.value]);
    openKeys.value = [...keySet];
    expandedKeys.value = [activeMenu || menuOpenKeys[menuOpenKeys.length - 1]];
  }
}, true);

function travel(_route: RouteRecordRaw[], nodes: MenuOption[] = []) {
  // console.log('_route',_route)
  if (_route) {
    for (const route of _route) {
      const {meta, name, children} = route;
      const menu: MenuOption = {
        key: String(name),
        label: () =>
            children?.length
                ? t(meta?.locale as string)
                : renderRouterLink(String(name), meta?.locale as string),
        icon: () => h(NIcon, null, {
          default: () => h("div", {class: meta?.icon}),
        }),
      };
      if (children?.length) {
        for (const el of children) {
          const {meta, name} = el;
          menu.children = [
            ...(menu.children || []),
            {
              key: String(name),
              label: () =>
                  el.meta?.hideChildrenInMenu
                      ? renderRouterLink(
                          getFirstRouterNameByCurrentRoute(
                              name as string
                          ) as string,
                          meta?.locale as string
                      )
                      : renderRouterLink(String(name), meta?.locale as string),
            },
          ];
        }
      }
      nodes.push(menu);
    }
  }
  return nodes;
}

onBeforeMount(() => {
  options.value = travel(menuTree.value as RouteRecordRaw[]);
});
</script>
<template>
  <n-layout-sider
      :width="220"
      :native-scrollbar="false"
      collapse-mode="width"
      show-trigger="arrow-circle"
      bordered
  >
    <router-link to="/" #="{ navigate, href }" custom>
      <!-- prettier-ignore -->
      <n-a class="logo" :href="href" @click="navigate">
        <svg v-if="appStore.state.menuCollapse" class="small" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
             viewBox="0 0 120 110">
          <path
              d="M5,97.5L5,12.5C5,8.35786,8.35786,5,12.5,5L107.5,5C111.642,5,115,8.35786,115,12.5C115,16.6421,111.642,20,107.5,20L20,20L20,97.5C20,101.6421,16.6421,105,12.5,105C8.35786,105,5,101.6421,5,97.5ZM87.5,62.5L47.5,62.5C43.3579,62.5,40,59.1421,40,55C40,50.8579,43.3579,47.5,47.5,47.5L87.5,47.5C91.6421,47.5,95,50.8579,95,55C95,59.1421,91.6421,62.5,87.5,62.5Z"/>
        </svg>
        <svg v-else id="master-artboard" viewBox="0 0 1216.985595703125 260.14349365234375" version="1.1"
             xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" style="margin-top: 10px;"
             width="1216.985595703125px" height="260.14349365234375px">
          <defs>
            <radialGradient id="gradient-0" gradientUnits="objectBoundingBox" cx="0.5" cy="0.5" r="0.5">
              <stop offset="0" style="stop-color: #528cff"/>
              <stop offset="1" style="stop-color: #004eeb"/>
            </radialGradient>
          </defs>
          <rect id="ee-background" x="0" y="0" width="1216.985595703125" height="260.14349365234375"
                style="fill: white; fill-opacity: 0; pointer-events: none;"/>
          <path
              d="M 439.31573486328125 343.16998291015625 C 439.31573486328125 348.5633239746094 438.68243408203125 354.183349609375 437.415771484375 360.0299987792969 C 436.1424255371094 365.8766784667969 434.3624267578125 371.57666015625 432.07574462890625 377.1300048828125 C 429.78240966796875 382.6833190917969 427.0290832519531 387.9333190917969 423.81573486328125 392.8800048828125 C 420.59576416015625 397.82000732421875 417.0124206542969 402.10333251953125 413.06573486328125 405.7300109863281 L 404.4257507324219 401.0400085449219 C 405.7457580566406 398.67999267578125 406.9490966796875 396.02667236328125 408.0357666015625 393.0799865722656 C 409.1224060058594 390.1333312988281 410.11907958984375 387.02667236328125 411.0257568359375 383.760009765625 C 411.93243408203125 380.5 412.7257385253906 377.14666748046875 413.40576171875 373.70001220703125 C 414.08575439453125 370.2533264160156 414.6657409667969 366.82000732421875 415.145751953125 363.3999938964844 C 415.61907958984375 359.97332763671875 415.9690856933594 356.6499938964844 416.19573974609375 353.42999267578125 C 416.42242431640625 350.2166748046875 416.5357666015625 347.2033386230469 416.5357666015625 344.3900146484375 C 416.5357666015625 342.8033447265625 416.48907470703125 341.08001708984375 416.395751953125 339.2200012207031 C 416.30908203125 337.3599853515625 416.11907958984375 335.5033264160156 415.82574462890625 333.6499938964844 C 415.5257568359375 331.7900085449219 415.0823974609375 330.010009765625 414.4957580566406 328.30999755859375 C 413.9090881347656 326.6099853515625 413.1057434082031 325.0899963378906 412.08575439453125 323.75 C 411.06573486328125 322.4100036621094 409.7957458496094 321.34332275390625 408.2757568359375 320.54998779296875 C 406.7557373046875 319.75665283203125 404.9290771484375 319.3599853515625 402.7957458496094 319.3599853515625 C 400.7090759277344 319.3599853515625 398.9290771484375 319.9166564941406 397.45574951171875 321.0299987792969 C 395.982421875 322.1433410644531 394.7257385253906 323.5833435058594 393.6857604980469 325.3500061035156 C 392.645751953125 327.1166687011719 391.819091796875 329.1099853515625 391.20574951171875 331.33001708984375 C 390.5924072265625 333.5566711425781 390.125732421875 335.7900085449219 389.8057556152344 338.0299987792969 C 389.492431640625 340.27667236328125 389.2790832519531 342.41998291015625 389.1657409667969 344.4599914550781 C 389.05242919921875 346.5 388.9957580566406 348.22332763671875 388.9957580566406 349.6300048828125 L 388.9957580566406 389 L 366.07574462890625 389 L 366.07574462890625 352.4100036621094 C 366.07574462890625 350.8233337402344 366.0990905761719 348.9100036621094 366.145751953125 346.66998291015625 C 366.1924133300781 344.42333984375 366.1357421875 342.07666015625 365.9757385253906 339.6300048828125 C 365.81573486328125 337.183349609375 365.5190734863281 334.7466735839844 365.08575439453125 332.32000732421875 C 364.6590881347656 329.8933410644531 363.9790954589844 327.7266540527344 363.0457458496094 325.82000732421875 C 362.11907958984375 323.91998291015625 360.8624267578125 322.3699951171875 359.2757568359375 321.16998291015625 C 357.6890869140625 319.96331787109375 355.69573974609375 319.3599853515625 353.2957458496094 319.3599853515625 C 351.2557373046875 319.3599853515625 349.54241943359375 319.9266662597656 348.15576171875 321.05999755859375 C 346.7757568359375 322.1933288574219 345.61907958984375 323.65667724609375 344.6857604980469 325.45001220703125 C 343.75909423828125 327.24334716796875 343.0357666015625 329.260009765625 342.5157470703125 331.5 C 341.9957580566406 333.7466735839844 341.60906982421875 335.99334716796875 341.3557434082031 338.239990234375 C 341.10906982421875 340.4800109863281 340.96240234375 342.6099853515625 340.9157409667969 344.6300048828125 C 340.86907958984375 346.6433410644531 340.84576416015625 348.30999755859375 340.84576416015625 349.6300048828125 L 340.84576416015625 389 L 317.7957458496094 389 L 317.7957458496094 310.4599914550781 L 326.6357421875 310.4599914550781 L 335.06573486328125 328.75 C 336.972412109375 322.4033203125 339.9757385253906 317.45001220703125 344.07574462890625 313.8900146484375 C 348.1824035644531 310.33001708984375 353.6357421875 308.54998779296875 360.4357604980469 308.54998779296875 C 366.5557556152344 308.54998779296875 371.6324157714844 309.82000732421875 375.6657409667969 312.3599853515625 C 379.6990966796875 314.8999938964844 382.8724060058594 319.02667236328125 385.1857604980469 324.739990234375 C 386.49908447265625 322.2466735839844 387.96240234375 320 389.57574462890625 318 C 391.18243408203125 316.00665283203125 392.972412109375 314.3066711425781 394.94573974609375 312.8999938964844 C 396.9190673828125 311.5 399.1057434082031 310.42333984375 401.5057373046875 309.66998291015625 C 403.90576171875 308.92333984375 406.55908203125 308.54998779296875 409.46575927734375 308.54998779296875 C 414.8124084472656 308.54998779296875 419.37908935546875 309.42333984375 423.1657409667969 311.16998291015625 C 426.9524230957031 312.9166564941406 430.0457458496094 315.33001708984375 432.44573974609375 318.4100036621094 C 434.8524169921875 321.4966735839844 436.59906005859375 325.1600036621094 437.68572998046875 329.3999938964844 C 438.77239990234375 333.6333312988281 439.31573486328125 338.22332763671875 439.31573486328125 343.16998291015625 ZM 538.6659545898438 389 L 515.6759033203125 389 L 515.6759033203125 379.6199951171875 C 512.9559326171875 383.3333435058594 509.67926025390625 386.086669921875 505.845947265625 387.8800048828125 C 502.0192565917969 389.6666564941406 497.81591796875 390.55999755859375 493.2359313964844 390.55999755859375 C 487.249267578125 390.55999755859375 481.8992614746094 389.4966735839844 477.1859436035156 387.3699951171875 C 472.47259521484375 385.2366638183594 468.48260498046875 382.3233337402344 465.2159423828125 378.6300048828125 C 461.9559326171875 374.9366760253906 459.46258544921875 370.5966796875 457.7359313964844 365.6099853515625 C 456.01593017578125 360.6233215332031 455.15594482421875 355.2733459472656 455.15594482421875 349.55999755859375 C 455.15594482421875 343.8466796875 456.01593017578125 338.4966735839844 457.7359313964844 333.510009765625 C 459.46258544921875 328.5233459472656 461.9559326171875 324.183349609375 465.2159423828125 320.489990234375 C 468.48260498046875 316.7900085449219 472.47259521484375 313.87664794921875 477.1859436035156 311.75 C 481.8992614746094 309.6166687011719 487.249267578125 308.54998779296875 493.2359313964844 308.54998779296875 C 496.27593994140625 308.54998779296875 499.1659240722656 309.0033264160156 501.90594482421875 309.9100036621094 C 504.64593505859375 310.816650390625 507.16259765625 312.0966796875 509.4559326171875 313.75 C 511.74261474609375 315.4100036621094 513.75927734375 317.40667724609375 515.5059204101562 319.739990234375 C 517.2526245117188 322.0733337402344 518.6259155273438 324.6666564941406 519.6259155273438 327.5199890136719 L 529.825927734375 310.4599914550781 L 538.6659545898438 310.4599914550781 L 538.6659545898438 389 M 515.5458984375 349.55999755859375 C 515.5458984375 347.5199890136719 515.442626953125 345.3666687011719 515.2359619140625 343.1000061035156 C 515.029296875 340.8333435058594 514.6792602539062 338.5899963378906 514.1859130859375 336.3699951171875 C 513.6859130859375 334.1433410644531 512.9926147460938 332.0233459472656 512.10595703125 330.010009765625 C 511.2259216308594 327.989990234375 510.09259033203125 326.1966552734375 508.7059326171875 324.6300048828125 C 507.325927734375 323.07000732421875 505.6592712402344 321.836669921875 503.7059326171875 320.92999267578125 C 501.75927734375 320.0233154296875 499.49261474609375 319.57000732421875 496.90594482421875 319.57000732421875 C 494.325927734375 319.57000732421875 492.0826110839844 320.0333251953125 490.1759338378906 320.9599914550781 C 488.2692565917969 321.8933410644531 486.63592529296875 323.1400146484375 485.27593994140625 324.70001220703125 C 483.9159240722656 326.26666259765625 482.7959289550781 328.07000732421875 481.9159240722656 330.1099853515625 C 481.0292663574219 332.1499938964844 480.3359375 334.2799987792969 479.8359375 336.5 C 479.34259033203125 338.7200012207031 478.9925842285156 340.9533386230469 478.7859191894531 343.20001220703125 C 478.5792541503906 345.4466552734375 478.4759216308594 347.566650390625 478.4759216308594 349.55999755859375 C 478.4759216308594 351.5533447265625 478.5792541503906 353.683349609375 478.7859191894531 355.95001220703125 C 478.9925842285156 358.2166748046875 479.34259033203125 360.4599914550781 479.8359375 362.67999267578125 C 480.3359375 364.8999938964844 481.0292663574219 367.0299987792969 481.9159240722656 369.07000732421875 C 482.7959289550781 371.1166687011719 483.9159240722656 372.9200134277344 485.27593994140625 374.4800109863281 C 486.63592529296875 376.0466613769531 488.2692565917969 377.2933349609375 490.1759338378906 378.2200012207031 C 492.0826110839844 379.1533203125 494.325927734375 379.6199951171875 496.90594482421875 379.6199951171875 C 499.26593017578125 379.6199951171875 501.36260986328125 379.1300048828125 503.1959228515625 378.1499938964844 C 505.0359191894531 377.1766662597656 506.64593505859375 375.8733215332031 508.02593994140625 374.239990234375 C 509.41259765625 372.61334228515625 510.5792541503906 370.75665283203125 511.52593994140625 368.6700134277344 C 512.479248046875 366.5833435058594 513.2526245117188 364.42999267578125 513.845947265625 362.2099914550781 C 514.4326171875 359.98333740234375 514.8626098632812 357.7733459472656 515.1359252929688 355.58001708984375 C 515.4092407226562 353.3800048828125 515.5458984375 351.3733215332031 515.5458984375 349.55999755859375 ZM 592.3997802734375 389 L 569.3497924804688 389 L 569.3497924804688 319.57000732421875 L 555.06982421875 319.57000732421875 L 555.06982421875 310.4599914550781 L 569.3497924804688 310.4599914550781 L 569.3497924804688 281.54998779296875 L 592.3997802734375 281.54998779296875 L 592.3997802734375 310.4599914550781 L 616.1998291015625 310.4599914550781 L 616.1998291015625 319.57000732421875 L 592.3997802734375 319.57000732421875 L 592.3997802734375 389 ZM 698.6123657226562 317.3900146484375 L 685.6923828125 338.80999755859375 C 685.1456909179688 336.9966735839844 684.4423828125 334.9566650390625 683.5823974609375 332.69000244140625 C 682.7223510742188 330.42333984375 681.6557006835938 328.3033447265625 680.3823852539062 326.33001708984375 C 679.11572265625 324.36334228515625 677.5990600585938 322.7099914550781 675.8323974609375 321.3699951171875 C 674.0590209960938 320.0299987792969 672.01904296875 319.3599853515625 669.71240234375 319.3599853515625 C 667.5790405273438 319.3599853515625 665.7290649414062 319.90667724609375 664.162353515625 321 C 662.6023559570312 322.086669921875 661.279052734375 323.5033264160156 660.1923828125 325.25 C 659.0990600585938 326.989990234375 658.202392578125 328.9599914550781 657.5023803710938 331.1600036621094 C 656.8023681640625 333.3599853515625 656.259033203125 335.5833435058594 655.8723754882812 337.83001708984375 C 655.4857177734375 340.07000732421875 655.2257080078125 342.22332763671875 655.0923461914062 344.2900085449219 C 654.952392578125 346.3500061035156 654.8823852539062 348.1300048828125 654.8823852539062 349.6300048828125 L 654.8823852539062 389 L 631.8323974609375 389 L 631.8323974609375 310.4599914550781 L 640.67236328125 310.4599914550781 L 649.9923706054688 328.75 C 651.259033203125 325.8033447265625 652.7090454101562 323.09332275390625 654.3423461914062 320.6199951171875 C 655.9757080078125 318.1533203125 657.855712890625 316.0233154296875 659.9823608398438 314.2300109863281 C 662.11572265625 312.4366760253906 664.529052734375 311.0433349609375 667.2223510742188 310.04998779296875 C 669.92236328125 309.04998779296875 672.9723510742188 308.54998779296875 676.3723754882812 308.54998779296875 C 678.1390380859375 308.54998779296875 680.1123657226562 308.6966552734375 682.2923583984375 308.989990234375 C 684.4656982421875 309.2900085449219 686.595703125 309.7900085449219 688.682373046875 310.489990234375 C 690.76904296875 311.19000244140625 692.6956787109375 312.1066589355469 694.46240234375 313.239990234375 C 696.22900390625 314.37335205078125 697.6123657226562 315.75665283203125 698.6123657226562 317.3900146484375 ZM 737.3119506835938 291.4800109863281 C 737.3119506835938 293.2066650390625 736.9819946289062 294.8399963378906 736.3219604492188 296.3800048828125 C 735.6686401367188 297.91998291015625 734.7753295898438 299.25665283203125 733.6419677734375 300.3900146484375 C 732.5086669921875 301.5233154296875 731.1719970703125 302.41998291015625 729.6319580078125 303.08001708984375 C 728.0853271484375 303.73333740234375 726.4519653320312 304.05999755859375 724.7319946289062 304.05999755859375 C 723.0053100585938 304.05999755859375 721.3853149414062 303.73333740234375 719.8719482421875 303.08001708984375 C 718.3519897460938 302.41998291015625 717.0253295898438 301.5233154296875 715.8919677734375 300.3900146484375 C 714.7586669921875 299.25665283203125 713.8619995117188 297.91998291015625 713.2019653320312 296.3800048828125 C 712.5486450195312 294.8399963378906 712.2219848632812 293.2066650390625 712.2219848632812 291.4800109863281 C 712.2219848632812 289.760009765625 712.5486450195312 288.1400146484375 713.2019653320312 286.6199951171875 C 713.8619995117188 285.1000061035156 714.7586669921875 283.7733154296875 715.8919677734375 282.6400146484375 C 717.0253295898438 281.50665283203125 718.3519897460938 280.61334228515625 719.8719482421875 279.9599914550781 C 721.3853149414062 279.29998779296875 723.0053100585938 278.9700012207031 724.7319946289062 278.9700012207031 C 726.4519653320312 278.9700012207031 728.0853271484375 279.29998779296875 729.6319580078125 279.9599914550781 C 731.1719970703125 280.61334228515625 732.5086669921875 281.50665283203125 733.6419677734375 282.6400146484375 C 734.7753295898438 283.7733154296875 735.6686401367188 285.1000061035156 736.3219604492188 286.6199951171875 C 736.9819946289062 288.1400146484375 737.3119506835938 289.760009765625 737.3119506835938 291.4800109863281 M 736.2919921875 389 L 713.241943359375 389 L 713.241943359375 310.5199890136719 L 736.2919921875 310.5199890136719 L 736.2919921875 389 ZM 829.9569091796875 389 L 806.9669189453125 389 L 787.7268676757812 361.4599914550781 L 768.076904296875 389 L 752.1568603515625 389 L 781.7468872070312 352.82000732421875 L 752.1568603515625 310.4599914550781 L 775.1469116210938 310.4599914550781 L 793.7769165039062 337.1099853515625 L 814.046875 310.4599914550781 L 829.9569091796875 310.4599914550781 L 799.7669067382812 345.67999267578125 L 829.9569091796875 389 ZM 887.6233520507812 346.2300109863281 L 841.9234008789062 346.2300109863281 L 841.9234008789062 333.7099914550781 L 887.6233520507812 333.7099914550781 L 887.6233520507812 346.2300109863281 ZM 1033.2904052734375 343.16998291015625 C 1033.2904052734375 348.5633239746094 1032.6571044921875 354.183349609375 1031.390380859375 360.0299987792969 C 1030.1170654296875 365.8766784667969 1028.3370361328125 371.57666015625 1026.0504150390625 377.1300048828125 C 1023.757080078125 382.6833190917969 1021.0037841796875 387.9333190917969 1017.7904052734375 392.8800048828125 C 1014.5704345703125 397.82000732421875 1010.987060546875 402.10333251953125 1007.0404052734375 405.7300109863281 L 998.400390625 401.0400085449219 C 999.7203979492188 398.67999267578125 1000.9237670898438 396.02667236328125 1002.0104370117188 393.0799865722656 C 1003.0971069335938 390.1333312988281 1004.09375 387.02667236328125 1005.0004272460938 383.760009765625 C 1005.9071044921875 380.5 1006.700439453125 377.14666748046875 1007.3804321289062 373.70001220703125 C 1008.0604248046875 370.2533264160156 1008.6404418945312 366.82000732421875 1009.1204223632812 363.3999938964844 C 1009.59375 359.97332763671875 1009.9437255859375 356.6499938964844 1010.17041015625 353.42999267578125 C 1010.3970947265625 350.2166748046875 1010.5104370117188 347.2033386230469 1010.5104370117188 344.3900146484375 C 1010.5104370117188 342.8033447265625 1010.4637451171875 341.08001708984375 1010.3704223632812 339.2200012207031 C 1010.2837524414062 337.3599853515625 1010.09375 335.5033264160156 1009.8004150390625 333.6499938964844 C 1009.5004272460938 331.7900085449219 1009.0570678710938 330.010009765625 1008.4703979492188 328.30999755859375 C 1007.8837280273438 326.6099853515625 1007.0804443359375 325.0899963378906 1006.0604248046875 323.75 C 1005.0404052734375 322.4100036621094 1003.7703857421875 321.34332275390625 1002.2504272460938 320.54998779296875 C 1000.7304077148438 319.75665283203125 998.9037475585938 319.3599853515625 996.7703857421875 319.3599853515625 C 994.6837768554688 319.3599853515625 992.9037475585938 319.9166564941406 991.430419921875 321.0299987792969 C 989.9570922851562 322.1433410644531 988.700439453125 323.5833435058594 987.660400390625 325.3500061035156 C 986.6204223632812 327.1166687011719 985.7937622070312 329.1099853515625 985.180419921875 331.33001708984375 C 984.5670776367188 333.5566711425781 984.1004028320312 335.7900085449219 983.7803955078125 338.0299987792969 C 983.4671020507812 340.27667236328125 983.2537841796875 342.41998291015625 983.1404418945312 344.4599914550781 C 983.027099609375 346.5 982.9703979492188 348.22332763671875 982.9703979492188 349.6300048828125 L 982.9703979492188 389 L 960.0504150390625 389 L 960.0504150390625 352.4100036621094 C 960.0504150390625 350.8233337402344 960.07373046875 348.9100036621094 960.1204223632812 346.66998291015625 C 960.1671142578125 344.42333984375 960.1104125976562 342.07666015625 959.950439453125 339.6300048828125 C 959.7904052734375 337.183349609375 959.4937744140625 334.7466735839844 959.0604248046875 332.32000732421875 C 958.6337280273438 329.8933410644531 957.9537353515625 327.7266540527344 957.0204467773438 325.82000732421875 C 956.09375 323.91998291015625 954.8370971679688 322.3699951171875 953.2504272460938 321.16998291015625 C 951.6637573242188 319.96331787109375 949.67041015625 319.3599853515625 947.2704467773438 319.3599853515625 C 945.2304077148438 319.3599853515625 943.51708984375 319.9266662597656 942.1304321289062 321.05999755859375 C 940.7504272460938 322.1933288574219 939.59375 323.65667724609375 938.660400390625 325.45001220703125 C 937.7337646484375 327.24334716796875 937.0104370117188 329.260009765625 936.4904174804688 331.5 C 935.9703979492188 333.7466735839844 935.583740234375 335.99334716796875 935.3304443359375 338.239990234375 C 935.083740234375 340.4800109863281 934.9370727539062 342.6099853515625 934.8904418945312 344.6300048828125 C 934.84375 346.6433410644531 934.8204345703125 348.30999755859375 934.8204345703125 349.6300048828125 L 934.8204345703125 389 L 911.7704467773438 389 L 911.7704467773438 310.4599914550781 L 920.6104125976562 310.4599914550781 L 929.0404052734375 328.75 C 930.9470825195312 322.4033203125 933.950439453125 317.45001220703125 938.0504150390625 313.8900146484375 C 942.1571044921875 310.33001708984375 947.6104125976562 308.54998779296875 954.410400390625 308.54998779296875 C 960.5303955078125 308.54998779296875 965.6070556640625 309.82000732421875 969.6404418945312 312.3599853515625 C 973.6737670898438 314.8999938964844 976.8471069335938 319.02667236328125 979.160400390625 324.739990234375 C 980.4737548828125 322.2466735839844 981.9370727539062 320 983.5504150390625 318 C 985.1571044921875 316.00665283203125 986.9470825195312 314.3066711425781 988.92041015625 312.8999938964844 C 990.8937377929688 311.5 993.0804443359375 310.42333984375 995.4804077148438 309.66998291015625 C 997.8804321289062 308.92333984375 1000.5337524414062 308.54998779296875 1003.4404296875 308.54998779296875 C 1008.787109375 308.54998779296875 1013.353759765625 309.42333984375 1017.1404418945312 311.16998291015625 C 1020.9270629882812 312.9166564941406 1024.0203857421875 315.33001708984375 1026.42041015625 318.4100036621094 C 1028.8271484375 321.4966735839844 1030.57373046875 325.1600036621094 1031.660400390625 329.3999938964844 C 1032.7470703125 333.6333312988281 1033.2904052734375 338.22332763671875 1033.2904052734375 343.16998291015625 ZM 1072.469482421875 351.7300109863281 C 1075.2828369140625 352.3699951171875 1078.09619140625 352.8699951171875 1080.9095458984375 353.2300109863281 C 1083.7161865234375 353.5899963378906 1086.5494384765625 353.7699890136719 1089.4095458984375 353.7699890136719 C 1092.3961181640625 353.7699890136719 1095.1728515625 353.4866638183594 1097.739501953125 352.91998291015625 C 1100.2994384765625 352.35333251953125 1102.51953125 351.4033203125 1104.3995361328125 350.07000732421875 C 1106.279541015625 348.7300109863281 1107.76611328125 346.95001220703125 1108.8594970703125 344.7300109863281 C 1109.9461669921875 342.510009765625 1110.489501953125 339.74334716796875 1110.489501953125 336.42999267578125 C 1110.489501953125 333.75665283203125 1110.126220703125 331.30999755859375 1109.3995361328125 329.0899963378906 C 1108.6728515625 326.8699951171875 1107.59619140625 324.9666748046875 1106.16943359375 323.3800048828125 C 1104.7427978515625 321.7933349609375 1102.9862060546875 320.5566711425781 1100.8995361328125 319.66998291015625 C 1098.8128662109375 318.7833251953125 1096.3861083984375 318.3399963378906 1093.6195068359375 318.3399963378906 C 1091.03955078125 318.3399963378906 1088.7161865234375 318.816650390625 1086.6495361328125 319.7699890136719 C 1084.5894775390625 320.72332763671875 1082.776123046875 322.0033264160156 1081.20947265625 323.6099853515625 C 1079.6495361328125 325.22332763671875 1078.3128662109375 327.09332275390625 1077.199462890625 329.2200012207031 C 1076.086181640625 331.35333251953125 1075.16943359375 333.57666015625 1074.449462890625 335.8900146484375 C 1073.7227783203125 338.2033386230469 1073.199462890625 340.53668212890625 1072.8795166015625 342.8900146484375 C 1072.566162109375 345.25 1072.4095458984375 347.47332763671875 1072.4095458984375 349.55999755859375 C 1072.4095458984375 349.91998291015625 1072.4095458984375 350.2833251953125 1072.4095458984375 350.6499938964844 C 1072.4095458984375 351.010009765625 1072.429443359375 351.3699951171875 1072.469482421875 351.7300109863281 M 1129.1195068359375 336.2300109863281 C 1129.1195068359375 339.45001220703125 1128.5994873046875 342.316650390625 1127.5594482421875 344.83001708984375 C 1126.5128173828125 347.3500061035156 1125.09619140625 349.55999755859375 1123.3094482421875 351.4599914550781 C 1121.51611328125 353.3666687011719 1119.439453125 354.9766540527344 1117.0794677734375 356.2900085449219 C 1114.7261962890625 357.60333251953125 1112.2127685546875 358.67999267578125 1109.53955078125 359.5199890136719 C 1106.8594970703125 360.3599853515625 1104.102783203125 360.9599914550781 1101.26953125 361.32000732421875 C 1098.4361572265625 361.6866760253906 1095.682861328125 361.8699951171875 1093.009521484375 361.8699951171875 C 1089.6094970703125 361.8699951171875 1086.256103515625 361.6300048828125 1082.949462890625 361.1499938964844 C 1079.6361083984375 360.6766662597656 1076.3695068359375 359.9166564941406 1073.1495361328125 358.8699951171875 C 1073.6495361328125 361.86334228515625 1074.44287109375 364.7099914550781 1075.529541015625 367.4100036621094 C 1076.622802734375 370.1099853515625 1078.076171875 372.4666748046875 1079.8895263671875 374.4800109863281 C 1081.702880859375 376.5 1083.932861328125 378.1000061035156 1086.5794677734375 379.2799987792969 C 1089.2327880859375 380.4533386230469 1092.372802734375 381.0400085449219 1095.99951171875 381.0400085449219 C 1098.4061279296875 381.0400085449219 1100.6961669921875 380.67999267578125 1102.8695068359375 379.9599914550781 C 1105.0494384765625 379.23333740234375 1107.046142578125 378.21331787109375 1108.8594970703125 376.8999938964844 C 1110.6728515625 375.5799865722656 1112.26953125 374.0133361816406 1113.6495361328125 372.20001220703125 C 1115.029541015625 370.38665771484375 1116.15283203125 368.3699951171875 1117.01953125 366.1499938964844 L 1126.939453125 369.82000732421875 C 1125.4461669921875 373.40667724609375 1123.3961181640625 376.5033264160156 1120.78955078125 379.1099853515625 C 1118.182861328125 381.7166748046875 1115.2362060546875 383.8699951171875 1111.949462890625 385.57000732421875 C 1108.662841796875 387.2699890136719 1105.1728515625 388.52667236328125 1101.4794921875 389.3399963378906 C 1097.779541015625 390.1533203125 1094.1162109375 390.55999755859375 1090.489501953125 390.55999755859375 C 1084.509521484375 390.55999755859375 1078.9794921875 389.5533447265625 1073.8995361328125 387.5400085449219 C 1068.826171875 385.5199890136719 1064.452880859375 382.6966552734375 1060.779541015625 379.07000732421875 C 1057.106201171875 375.4433288574219 1054.2261962890625 371.11334228515625 1052.1395263671875 366.0799865722656 C 1050.0528564453125 361.0466613769531 1049.009521484375 355.5400085449219 1049.009521484375 349.55999755859375 C 1049.009521484375 343.5733337402344 1050.0528564453125 338.0633239746094 1052.1395263671875 333.0299987792969 C 1054.2261962890625 327.9966735839844 1057.106201171875 323.6666564941406 1060.779541015625 320.0400085449219 C 1064.452880859375 316.413330078125 1068.826171875 313.59332275390625 1073.8995361328125 311.58001708984375 C 1078.9794921875 309.55999755859375 1084.509521484375 308.54998779296875 1090.489501953125 308.54998779296875 C 1093.3961181640625 308.54998779296875 1096.3662109375 308.7533264160156 1099.3995361328125 309.1600036621094 C 1102.439453125 309.5733337402344 1105.3861083984375 310.2200012207031 1108.239501953125 311.1000061035156 C 1111.0994873046875 311.9866638183594 1113.7994384765625 313.1333312988281 1116.3394775390625 314.5400085449219 C 1118.872802734375 315.94000244140625 1121.082763671875 317.67333984375 1122.969482421875 319.739990234375 C 1124.8494873046875 321.79998779296875 1126.3427734375 324.19000244140625 1127.449462890625 326.9100036621094 C 1128.5628662109375 329.6300048828125 1129.1195068359375 332.7366638183594 1129.1195068359375 336.2300109863281 ZM 1178.0111083984375 389 L 1154.9610595703125 389 L 1154.9610595703125 319.57000732421875 L 1140.6810302734375 319.57000732421875 L 1140.6810302734375 310.4599914550781 L 1154.9610595703125 310.4599914550781 L 1154.9610595703125 281.54998779296875 L 1178.0111083984375 281.54998779296875 L 1178.0111083984375 310.4599914550781 L 1201.81103515625 310.4599914550781 L 1201.81103515625 319.57000732421875 L 1178.0111083984375 319.57000732421875 L 1178.0111083984375 389 ZM 1232.8919677734375 351.7300109863281 C 1235.705322265625 352.3699951171875 1238.5186767578125 352.8699951171875 1241.33203125 353.2300109863281 C 1244.138671875 353.5899963378906 1246.971923828125 353.7699890136719 1249.83203125 353.7699890136719 C 1252.818603515625 353.7699890136719 1255.5953369140625 353.4866638183594 1258.1619873046875 352.91998291015625 C 1260.721923828125 352.35333251953125 1262.9420166015625 351.4033203125 1264.822021484375 350.07000732421875 C 1266.7020263671875 348.7300109863281 1268.1885986328125 346.95001220703125 1269.281982421875 344.7300109863281 C 1270.36865234375 342.510009765625 1270.9119873046875 339.74334716796875 1270.9119873046875 336.42999267578125 C 1270.9119873046875 333.75665283203125 1270.548583984375 331.30999755859375 1269.822021484375 329.0899963378906 C 1269.0953369140625 326.8699951171875 1268.0186767578125 324.9666748046875 1266.5919189453125 323.3800048828125 C 1265.165283203125 321.7933349609375 1263.40869140625 320.5566711425781 1261.322021484375 319.66998291015625 C 1259.2353515625 318.7833251953125 1256.80859375 318.3399963378906 1254.0419921875 318.3399963378906 C 1251.4620361328125 318.3399963378906 1249.138671875 318.816650390625 1247.072021484375 319.7699890136719 C 1245.011962890625 320.72332763671875 1243.1986083984375 322.0033264160156 1241.6319580078125 323.6099853515625 C 1240.072021484375 325.22332763671875 1238.7353515625 327.09332275390625 1237.6219482421875 329.2200012207031 C 1236.5086669921875 331.35333251953125 1235.5919189453125 333.57666015625 1234.8719482421875 335.8900146484375 C 1234.145263671875 338.2033386230469 1233.6219482421875 340.53668212890625 1233.302001953125 342.8900146484375 C 1232.9886474609375 345.25 1232.83203125 347.47332763671875 1232.83203125 349.55999755859375 C 1232.83203125 349.91998291015625 1232.83203125 350.2833251953125 1232.83203125 350.6499938964844 C 1232.83203125 351.010009765625 1232.8519287109375 351.3699951171875 1232.8919677734375 351.7300109863281 M 1289.5419921875 336.2300109863281 C 1289.5419921875 339.45001220703125 1289.02197265625 342.316650390625 1287.98193359375 344.83001708984375 C 1286.935302734375 347.3500061035156 1285.5186767578125 349.55999755859375 1283.73193359375 351.4599914550781 C 1281.9385986328125 353.3666687011719 1279.8619384765625 354.9766540527344 1277.501953125 356.2900085449219 C 1275.148681640625 357.60333251953125 1272.63525390625 358.67999267578125 1269.9619140625 359.5199890136719 C 1267.281982421875 360.3599853515625 1264.5252685546875 360.9599914550781 1261.6920166015625 361.32000732421875 C 1258.858642578125 361.6866760253906 1256.1053466796875 361.8699951171875 1253.4320068359375 361.8699951171875 C 1250.031982421875 361.8699951171875 1246.6785888671875 361.6300048828125 1243.3719482421875 361.1499938964844 C 1240.05859375 360.6766662597656 1236.7919921875 359.9166564941406 1233.572021484375 358.8699951171875 C 1234.072021484375 361.86334228515625 1234.8653564453125 364.7099914550781 1235.9520263671875 367.4100036621094 C 1237.0452880859375 370.1099853515625 1238.4986572265625 372.4666748046875 1240.31201171875 374.4800109863281 C 1242.1253662109375 376.5 1244.3553466796875 378.1000061035156 1247.001953125 379.2799987792969 C 1249.6552734375 380.4533386230469 1252.7952880859375 381.0400085449219 1256.4219970703125 381.0400085449219 C 1258.82861328125 381.0400085449219 1261.11865234375 380.67999267578125 1263.2919921875 379.9599914550781 C 1265.471923828125 379.23333740234375 1267.4686279296875 378.21331787109375 1269.281982421875 376.8999938964844 C 1271.0953369140625 375.5799865722656 1272.6920166015625 374.0133361816406 1274.072021484375 372.20001220703125 C 1275.4520263671875 370.38665771484375 1276.5753173828125 368.3699951171875 1277.4420166015625 366.1499938964844 L 1287.3619384765625 369.82000732421875 C 1285.86865234375 373.40667724609375 1283.818603515625 376.5033264160156 1281.2119140625 379.1099853515625 C 1278.6053466796875 381.7166748046875 1275.65869140625 383.8699951171875 1272.3719482421875 385.57000732421875 C 1269.0853271484375 387.2699890136719 1265.5953369140625 388.52667236328125 1261.9019775390625 389.3399963378906 C 1258.2020263671875 390.1533203125 1254.5386962890625 390.55999755859375 1250.9119873046875 390.55999755859375 C 1244.9320068359375 390.55999755859375 1239.4019775390625 389.5533447265625 1234.322021484375 387.5400085449219 C 1229.2486572265625 385.5199890136719 1224.8753662109375 382.6966552734375 1221.2020263671875 379.07000732421875 C 1217.5286865234375 375.4433288574219 1214.648681640625 371.11334228515625 1212.56201171875 366.0799865722656 C 1210.475341796875 361.0466613769531 1209.4320068359375 355.5400085449219 1209.4320068359375 349.55999755859375 C 1209.4320068359375 343.5733337402344 1210.475341796875 338.0633239746094 1212.56201171875 333.0299987792969 C 1214.648681640625 327.9966735839844 1217.5286865234375 323.6666564941406 1221.2020263671875 320.0400085449219 C 1224.8753662109375 316.413330078125 1229.2486572265625 313.59332275390625 1234.322021484375 311.58001708984375 C 1239.4019775390625 309.55999755859375 1244.9320068359375 308.54998779296875 1250.9119873046875 308.54998779296875 C 1253.818603515625 308.54998779296875 1256.7886962890625 308.7533264160156 1259.822021484375 309.1600036621094 C 1262.8619384765625 309.5733337402344 1265.80859375 310.2200012207031 1268.6619873046875 311.1000061035156 C 1271.52197265625 311.9866638183594 1274.221923828125 313.1333312988281 1276.761962890625 314.5400085449219 C 1279.2952880859375 315.94000244140625 1281.50537109375 317.67333984375 1283.3919677734375 319.739990234375 C 1285.27197265625 321.79998779296875 1286.7652587890625 324.19000244140625 1287.8719482421875 326.9100036621094 C 1288.9853515625 329.6300048828125 1289.5419921875 332.7366638183594 1289.5419921875 336.2300109863281 ZM 1375.65234375 317.3900146484375 L 1362.7322998046875 338.80999755859375 C 1362.1856689453125 336.9966735839844 1361.4822998046875 334.9566650390625 1360.622314453125 332.69000244140625 C 1359.7623291015625 330.42333984375 1358.6956787109375 328.3033447265625 1357.42236328125 326.33001708984375 C 1356.1556396484375 324.36334228515625 1354.6390380859375 322.7099914550781 1352.872314453125 321.3699951171875 C 1351.0989990234375 320.0299987792969 1349.0589599609375 319.3599853515625 1346.7523193359375 319.3599853515625 C 1344.6190185546875 319.3599853515625 1342.76904296875 319.90667724609375 1341.202392578125 321 C 1339.642333984375 322.086669921875 1338.3189697265625 323.5033264160156 1337.2322998046875 325.25 C 1336.1390380859375 326.989990234375 1335.2423095703125 328.9599914550781 1334.5423583984375 331.1600036621094 C 1333.8424072265625 333.3599853515625 1333.299072265625 335.5833435058594 1332.912353515625 337.83001708984375 C 1332.525634765625 340.07000732421875 1332.265625 342.22332763671875 1332.13232421875 344.2900085449219 C 1331.9923095703125 346.3500061035156 1331.92236328125 348.1300048828125 1331.92236328125 349.6300048828125 L 1331.92236328125 389 L 1308.872314453125 389 L 1308.872314453125 310.4599914550781 L 1317.71240234375 310.4599914550781 L 1327.0323486328125 328.75 C 1328.299072265625 325.8033447265625 1329.7490234375 323.09332275390625 1331.38232421875 320.6199951171875 C 1333.015625 318.1533203125 1334.8956298828125 316.0233154296875 1337.0223388671875 314.2300109863281 C 1339.1556396484375 312.4366760253906 1341.5689697265625 311.0433349609375 1344.2623291015625 310.04998779296875 C 1346.96240234375 309.04998779296875 1350.0123291015625 308.54998779296875 1353.412353515625 308.54998779296875 C 1355.178955078125 308.54998779296875 1357.15234375 308.6966552734375 1359.3323974609375 308.989990234375 C 1361.5057373046875 309.2900085449219 1363.6357421875 309.7900085449219 1365.722412109375 310.489990234375 C 1367.8089599609375 311.19000244140625 1369.7357177734375 312.1066589355469 1371.5023193359375 313.239990234375 C 1373.26904296875 314.37335205078125 1374.65234375 315.75665283203125 1375.65234375 317.3900146484375 Z"
              transform="matrix(1.0052354335784912, 0, 0, 1.0052354335784912, -245.6328125, -282.29974365234375)"
              style="fill: rgb(82, 140, 255); white-space: pre; color: rgb(51, 51, 51); stroke: rgb(192, 56, 255); stroke-width: 11; paint-order: stroke;"/>
        </svg>
      </n-a>
    </router-link>
    <n-menu
        v-model:value="expandedKeys[0]"
        :default-expanded-keys="openKeys"
        :options="options"
        :root-indent="18"
    />
  </n-layout-sider>
</template>

<style scoped>
.logo {
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  padding: 12px 20px;
  background: var(--n-color);
  text-decoration: none;
}

.n-layout-sider--collapsed .logo {
  padding: 9px;
}

.logo svg {
  height: 32px;
}
</style>
